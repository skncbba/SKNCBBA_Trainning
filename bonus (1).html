<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Call Center Bonus Plan Presentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden; /* Prevents scrollbars from flash during slide transitions */
        }
        .slide {
            transition: opacity 0.5s ease-in-out;
        }
        .slide.hidden {
            opacity: 0;
            pointer-events: none;
            position: absolute;
        }
        .slide.active {
            opacity: 1;
        }
        /* Style for tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        th, td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid #4A5568; /* a md-gray color */
        }
        th {
            background-color: #2D3748; /* a dk-gray color */
            font-weight: 600;
        }
        td {
             background-color: #4A5568; /* a md-gray color */
        }
        tr:last-child td {
            border-bottom: none;
        }
        /* Loading Spinner */
        .loader {
            border: 4px solid #f3f3f3;
            border-radius: 50%;
            border-top: 4px solid #3498db;
            width: 30px;
            height: 30px;
            -webkit-animation: spin 2s linear infinite; /* Safari */
            animation: spin 2s linear infinite;
        }

        @-webkit-keyframes spin {
          0% { -webkit-transform: rotate(0deg); }
          100% { -webkit-transform: rotate(360deg); }
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-900 text-white flex flex-col items-center justify-center min-h-screen p-4 antialiased">

    <div id="presentation-container" class="w-full max-w-5xl h-[80vh] md:h-[85vh] bg-gray-800 rounded-2xl shadow-2xl p-6 md:p-10 flex flex-col relative overflow-hidden">
        
        <!-- Slide 1: Title -->
        <div class="slide active w-full h-full flex flex-col items-center justify-center text-center">
            <h1 class="text-4xl md:text-6xl font-bold text-cyan-400">Call Center Bonus Plan</h1>
            <p class="text-xl md:text-3xl mt-4 text-gray-300">Driving Performance & Rewarding Success</p>
            <p class="mt-8 text-lg text-gray-400">Q4 2025</p>
        </div>

        <!-- Slide 2: Philosophy -->
        <div class="slide hidden w-full h-full flex flex-col items-center justify-center">
            <h2 class="text-3xl md:text-4xl font-bold text-cyan-400 mb-8 self-start">Our Philosophy</h2>
            <ul class="space-y-6 text-lg md:text-xl text-gray-300 w-full">
                <li class="flex items-start"><span class="text-cyan-400 mr-4">&#10004;</span> <div><strong class="font-semibold">Simple:</strong> Easy to understand, calculate, and track your earnings.</div></li>
                <li class="flex items-start"><span class="text-cyan-400 mr-4">&#10004;</span> <div><strong class="font-semibold">Motivational:</strong> Directly rewards the key activities that drive our business.</div></li>
                <li class="flex items-start"><span class="text-cyan-400 mr-4">&#10004;</span> <div><strong class="font-semibold">Lucrative:</strong> Offers significant earning potential for top performers.</div></li>
                <li class="flex items-start"><span class="text-cyan-400 mr-4">&#10004;</span> <div><strong class="font-semibold">Aligned:</strong> Ties your individual success directly to the company's revenue goals.</div></li>
            </ul>
        </div>

        <!-- Slide 3: Overview -->
        <div class="slide hidden w-full h-full flex flex-col items-center justify-center">
            <h2 class="text-3xl md:text-4xl font-bold text-cyan-400 mb-8 self-start">Bonus Plan Overview</h2>
            <p class="text-lg text-gray-300 mb-8 self-start">Your total bonus is the sum of earnings from two key components:</p>
            <div class="grid md:grid-cols-2 gap-8 w-full">
                <div class="bg-gray-700 p-6 rounded-lg">
                    <h3 class="text-xl font-bold text-cyan-400">1. Valid Meeting Bonus</h3>
                    <p class="mt-2 text-gray-300">Rewards the <strong class="font-semibold">quantity</strong> of qualified meetings you schedule. Calculated based on a tiered system where more meetings unlock a higher rate per meeting.</p>
                </div>
                <div class="bg-gray-700 p-6 rounded-lg">
                    <h3 class="text-xl font-bold text-cyan-400">2. Closed Revenue Bonus</h3>
                    <p class="mt-2 text-gray-300">Rewards the <strong class="font-semibold">value</strong> you bring by closing deals. Calculated based on total revenue, with higher revenue unlocking a better commission rate.</p>
                </div>
            </div>
        </div>

        <!-- Slide 4: Valid Meeting Bonus -->
        <div class="slide hidden w-full h-full flex flex-col items-center justify-center">
            <h2 class="text-3xl md:text-4xl font-bold text-cyan-400 mb-6 self-start">Component 1: Valid Meeting Bonus</h2>
            <div class="w-full overflow-x-auto">
                <table class="min-w-full">
                    <thead>
                        <tr>
                            <th>Meetings Set</th>
                            <th>Rate per Meeting</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1 - 5</td><td>$5.00</td></tr>
                        <tr><td>6 - 20</td><td>$10.00</td></tr>
                        <tr><td>21 - 30</td><td>$15.00</td></tr>
                        <tr><td>31+</td><td>$25.00</td></tr>
                    </tbody>
                </table>
            </div>
            <div class="mt-6 bg-gray-700 p-4 rounded-lg w-full">
                <p class="text-gray-300"><strong class="text-cyan-300">Example:</strong> If you set 25 meetings, you reach the <strong class="text-white">$15.00</strong> tier. Your bonus is calculated on all 25 meetings at that rate: 25 meetings × $15.00 = <strong class="text-white">$375</strong>.</p>
            </div>
        </div>

        <!-- Slide 5: Closed Revenue Bonus -->
        <div class="slide hidden w-full h-full flex flex-col items-center justify-center">
            <h2 class="text-3xl md:text-4xl font-bold text-cyan-400 mb-6 self-start">Component 2: Closed Revenue Bonus</h2>
            <div class="w-full overflow-x-auto">
                <table>
                    <thead>
                        <tr>
                            <th>Total Revenue Generated</th>
                            <th>Rate per $1,000,000</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Up to $500,000</td><td>$50.00</td></tr>
                        <tr><td>$500,001 - $5,000,000</td><td>$100.00</td></tr>
                        <tr><td>$5,000,001 - $10,000,000</td><td>$150.00</td></tr>
                        <tr><td>$10,000,001+</td><td>$300.00</td></tr>
                    </tbody>
                </table>
            </div>
            <div class="mt-6 bg-gray-700 p-4 rounded-lg w-full">
                <p class="text-gray-300"><strong class="text-cyan-300">Example:</strong> If you generate $6,000,000 in revenue, you reach the <strong class="text-white">$150</strong> per million tier. Your bonus is calculated as: (6M / 1M) × $150 = <strong class="text-white">$900</strong>.</p>
            </div>
        </div>
        
        <!-- Slide 6: Example A -->
        <div class="slide hidden w-full h-full flex flex-col items-center justify-center">
            <h2 class="text-3xl md:text-4xl font-bold text-cyan-400 mb-6 self-start">Putting It Together: Example A</h2>
            <div class="bg-gray-700 p-6 rounded-lg w-full space-y-4">
                <p class="text-lg text-gray-300">Performance: <strong class="text-white">30 Valid Meetings</strong> & <strong class="text-white">$20,000,000 Closed Revenue</strong></p>
                <div class="border-t border-gray-600 pt-4">
                    <p class="text-gray-300">1. <strong class="text-cyan-300">Valid Meeting Bonus:</strong> 30 meetings × $15.00/meeting = <strong class="text-white">$450</strong></p>
                    <p class="text-gray-300 mt-2">2. <strong class="text-cyan-300">Closed Revenue Bonus:</strong> (20M / 1M) × $300 = <strong class="text-white">$6,000</strong></p>
                </div>
                 <div class="border-t border-gray-600 pt-4 text-center">
                    <p class="text-2xl font-bold">Total Bonus: <span class="text-cyan-400">$6,450</span></p>
                </div>
            </div>
        </div>

        <!-- Slide 7: Example B -->
        <div class="slide hidden w-full h-full flex flex-col items-center justify-center">
            <h2 class="text-3xl md:text-4xl font-bold text-cyan-400 mb-6 self-start">Putting It Together: Example B</h2>
            <div class="bg-gray-700 p-6 rounded-lg w-full space-y-4">
                <p class="text-lg text-gray-300">Performance: <strong class="text-white">40 Valid Meetings</strong> & <strong class="text-white">$20,000,000 Closed Revenue</strong></p>
                 <div class="border-t border-gray-600 pt-4">
                    <p class="text-gray-300">1. <strong class="text-cyan-300">Valid Meeting Bonus:</strong> 40 meetings × $25.00/meeting = <strong class="text-white">$1,000</strong></p>
                    <p class="text-gray-300 mt-2">2. <strong class="text-cyan-300">Closed Revenue Bonus:</strong> (20M / 1M) × $300 = <strong class="text-white">$6,000</strong></p>
                </div>
                 <div class="border-t border-gray-600 pt-4 text-center">
                    <p class="text-2xl font-bold">Total Bonus: <span class="text-cyan-400">$7,000</span></p>
                </div>
            </div>
        </div>
        
        <!-- Slide 8: Earning Potential -->
        <div class="slide hidden w-full h-full flex flex-col items-center justify-center">
            <h2 class="text-3xl md:text-4xl font-bold text-cyan-400 mb-6 self-start">Earning Potential at a Glance</h2>
            <div class="w-full overflow-x-auto">
                <table>
                    <thead>
                        <tr>
                            <th>If you achieve...</th>
                            <th>And you close...</th>
                            <th>Your estimated bonus is...</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>15 Valid Meetings</td><td>$2,000,000 Revenue</td><td class="font-bold text-cyan-300">$350</td></tr>
                        <tr><td>25 Valid Meetings</td><td>$8,000,000 Revenue</td><td class="font-bold text-cyan-300">$1,575</td></tr>
                        <tr><td>40 Valid Meetings</td><td>$15,000,000 Revenue</td><td class="font-bold text-cyan-300">$5,500</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Slide 9: AI Coach & Calculator -->
        <div class="slide hidden w-full h-full flex flex-col">
            <h2 class="text-3xl md:text-4xl font-bold text-cyan-400 mb-4 self-start">✨ Performance Calculator</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 flex-grow">
                <!-- Left side: Inputs & Calculator -->
                <div class="bg-gray-700 p-6 rounded-lg flex flex-col">
                    <h3 class="text-xl font-semibold mb-4 text-cyan-300">Enter Your Performance</h3>
                    <div class="space-y-4">
                        <div>
                            <label for="meetings-input" class="block text-sm font-medium text-gray-300">Valid Meetings Set</label>
                            <input type="number" id="meetings-input" class="mt-1 block w-full bg-gray-800 border-gray-600 rounded-md shadow-sm focus:ring-cyan-500 focus:border-cyan-500 text-white p-2" placeholder="e.g., 25">
                        </div>
                        <div>
                            <label for="revenue-input" class="block text-sm font-medium text-gray-300">Total Revenue Generated ($)</label>
                            <input type="number" id="revenue-input" class="mt-1 block w-full bg-gray-800 border-gray-600 rounded-md shadow-sm focus:ring-cyan-500 focus:border-cyan-500 text-white p-2" placeholder="e.g., 8000000">
                        </div>
                    </div>
                    <div class="mt-6 flex flex-col sm:flex-row gap-4">
                         <button id="calculate-btn" class="w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded-lg transition-colors">Calculate Bonus</button>

                    </div>
                    <div id="bonus-result-container" class="mt-6 p-4 bg-gray-800 rounded-lg text-center hidden">
                        <p class="text-gray-300">Your Estimated Total Bonus:</p>
                        <p id="bonus-result" class="text-3xl font-bold text-cyan-400 mt-1">$0</p>
                    </div>
                </div>
              
            </div>
        </div>


        <!-- Slide 10: Summary & Next Steps -->
        <div class="slide hidden w-full h-full flex flex-col items-center justify-center">
            <h2 class="text-3xl md:text-4xl font-bold text-cyan-400 mb-8 self-start">Summary & Next Steps</h2>
             <ul class="space-y-4 text-lg text-gray-300 w-full mb-8">
                <li class="flex items-start"><span class="text-cyan-400 mr-4">&#10148;</span> <div><strong>Two-Part Structure:</strong> Rewards both meeting generation and revenue closing.</div></li>
                <li class="flex items-start"><span class="text-cyan-400 mr-4">&#10148;</span> <div><strong>Tier-Based Rates:</strong> Higher performance unlocks higher rates for your entire output.</div></li>
                <li class="flex items-start"><span class="text-cyan-400 mr-4">&#10148;</span> <div><strong>Clear & Calculable:</strong> Track your progress and potential bonus in real-time.</div></li>
                 <li class="flex items-start"><span class="text-cyan-400 mr-4">&#10148;</span> <div><strong>AI-Powered Coaching:</strong> Use the built-in coach to get tips for maximizing your earnings.</div></li>
            </ul>
             <div class="w-full text-center mt-auto">
                <h3 class="text-2xl md:text-4xl font-bold">Questions?</h3>
             </div>
        </div>

        <!-- Navigation Buttons -->
        <div id="prev" class="absolute left-4 top-1/2 -translate-y-1/2 cursor-pointer p-3 bg-gray-700/50 hover:bg-cyan-500/80 rounded-full transition-colors z-10">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
        </div>
        <div id="next" class="absolute right-4 top-1/2 -translate-y-1/2 cursor-pointer p-3 bg-gray-700/50 hover:bg-cyan-500/80 rounded-full transition-colors z-10">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
        </div>
        
        <!-- Navigation Dots -->
        <div id="nav-dots" class="absolute bottom-6 left-1/2 -translate-x-1/2 flex space-x-3 z-10"></div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slides = document.querySelectorAll('.slide');
            const nextBtn = document.getElementById('next');
            const prevBtn = document.getElementById('prev');
            const navDotsContainer = document.getElementById('nav-dots');
            let currentSlide = 0;
            const totalSlides = slides.length;

            // --- AI Coach & Calculator Elements ---
            const meetingsInput = document.getElementById('meetings-input');
            const revenueInput = document.getElementById('revenue-input');
            const calculateBtn = document.getElementById('calculate-btn');
            const coachBtn = document.getElementById('coach-btn');
            const bonusResultContainer = document.getElementById('bonus-result-container');
            const bonusResultEl = document.getElementById('bonus-result');
            const coachOutput = document.getElementById('coach-output');
            const coachContent = document.getElementById('coach-content');
            const loaderContainer = document.getElementById('loader-container');

            // --- Slide Navigation Logic ---
            for (let i = 0; i < totalSlides; i++) {
                const dot = document.createElement('div');
                dot.classList.add('w-3', 'h-3', 'rounded-full', 'cursor-pointer', 'transition-colors', 'bg-gray-600', 'hover:bg-cyan-400');
                dot.addEventListener('click', () => {
                    showSlide(i);
                });
                navDotsContainer.appendChild(dot);
            }
            const navDots = navDotsContainer.querySelectorAll('div');

            function showSlide(slideIndex) {
                if (slideIndex >= totalSlides) slideIndex = 0;
                if (slideIndex < 0) slideIndex = totalSlides - 1;

                slides.forEach((slide, index) => {
                    slide.classList.toggle('active', index === slideIndex);
                    slide.classList.toggle('hidden', index !== slideIndex);
                });
                
                navDots.forEach((dot, index) => {
                    dot.classList.toggle('bg-cyan-400', index === slideIndex);
                    dot.classList.toggle('bg-gray-600', index !== slideIndex);
                });

                currentSlide = slideIndex;
            }

            nextBtn.addEventListener('click', () => showSlide(currentSlide + 1));
            prevBtn.addEventListener('click', () => showSlide(currentSlide - 1));
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight') showSlide(currentSlide + 1);
                else if (e.key === 'ArrowLeft') showSlide(currentSlide - 1);
            });
            showSlide(0); // Initialize first slide

            // --- Bonus Calculation Logic ---
            function calculateBonus(meetings, revenue) {
                let meetingBonus = 0;
                let revenueBonus = 0;

                // Meeting bonus calculation
                let meetingRate = 0;
                if (meetings >= 1 && meetings <= 5) meetingRate = 5;
                else if (meetings >= 6 && meetings <= 20) meetingRate = 10;
                else if (meetings >= 21 && meetings <= 30) meetingRate = 15;
                else if (meetings >= 31) meetingRate = 25;
                meetingBonus = meetings * meetingRate;

                // Revenue bonus calculation
                let revenueRate = 0;
                if (revenue > 0 && revenue <= 500000) revenueRate = 50;
                else if (revenue > 500000 && revenue <= 5000000) revenueRate = 100;
                else if (revenue > 5000000 && revenue <= 10000000) revenueRate = 150;
                else if (revenue > 10000000) revenueRate = 300;
                revenueBonus = (revenue / 1000000) * revenueRate;

                return meetingBonus + revenueBonus;
            }

            calculateBtn.addEventListener('click', () => {
                const meetings = parseInt(meetingsInput.value) || 0;
                const revenue = parseInt(revenueInput.value) || 0;
                const totalBonus = calculateBonus(meetings, revenue);

                bonusResultEl.textContent = `$${totalBonus.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
                bonusResultContainer.classList.remove('hidden');
            });
            
            // --- Gemini API Logic ---
            coachBtn.addEventListener('click', () => {
                const meetings = parseInt(meetingsInput.value) || 0;
                const revenue = parseInt(revenueInput.value) || 0;
                if (meetings === 0 && revenue === 0) {
                    coachContent.innerHTML = '<p class="text-yellow-400">Please enter your performance numbers first to get coaching.</p>';
                    return;
                }
                getCoachingTips(meetings, revenue);
            });

            async function getCoachingTips(meetings, revenue) {
                coachContent.classList.add('hidden');
                loaderContainer.classList.remove('hidden');
                loaderContainer.classList.add('flex');

                const apiKey = ""; // API key is handled by the environment
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                const systemPrompt = "You are a supportive and motivating sales coach for a call center. Your goal is to help employees understand their bonus potential and give them actionable, encouraging advice to improve their performance and earn a higher bonus. Keep your response concise, friendly, and structured with bullet points or numbered lists for easy reading. Start with a positive acknowledgement of their current effort. Use markdown for formatting.";

                const userQuery = `
                    Here is our bonus structure:
                    **Valid Meeting Bonus Tiers:**
                    - 1-5 meetings: $5.00 per meeting
                    - 6-20 meetings: $10.00 per meeting
                    - 21-30 meetings: $15.00 per meeting
                    - 31+ meetings: $25.00 per meeting

                    **Closed Revenue Bonus Tiers:**
                    - Up to $500,000: $50.00 per $1M
                    - $500,001 - $5,000,000: $100.00 per $1M
                    - $5,000,001 - $10,000,000: $150.00 per $1M
                    - $10,000,001+: $300.00 per $1M

                    The rate for a tier applies to the *total* volume once that tier is reached.

                    My current performance this period is:
                    - Valid Meetings: ${meetings}
                    - Closed Revenue: $${revenue.toLocaleString()}

                    Based on my numbers, please provide some personalized coaching tips to help me maximize my bonus. Focus on the next immediate tier I could reach for both meetings and revenue and suggest one or two concrete strategies to get there.
                `;

                const payload = {
                    contents: [{ parts: [{ text: userQuery }] }],
                    systemInstruction: { parts: [{ text: systemPrompt }] },
                };

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`API Error: ${response.status} ${response.statusText}`);
                    }

                    const result = await response.json();
                    const text = result.candidates?.[0]?.content?.parts?.[0]?.text;
                    
                    if (text) {
                        // Basic markdown to HTML conversion
                        let htmlText = text
                            .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // Bold
                            .replace(/\*(.*?)\*/g, '<em>$1</em>')       // Italics
                            .replace(/(\n\s*-\s)/g, '</li><li>')         // List items
                            .replace(/(\n\s*\d+\.\s)/g, '</li><li>');    // Numbered list items
                        htmlText = '<ul><li>' + htmlText.substring(htmlText.indexOf('<li>') + 4) + '</li></ul>';
                        htmlText = htmlText.replace(/<\/li><li><\/li>/g, '</li>');
                        coachContent.innerHTML = htmlText;

                    } else {
                         coachContent.innerHTML = '<p class="text-red-400">Sorry, I couldn\'t generate coaching tips at this time. Please try again later.</p>';
                    }

                } catch (error) {
                     console.error("Error fetching from Gemini API:", error);
                     coachContent.innerHTML = `<p class="text-red-400">An error occurred while getting your coaching tips. Please check the console for details.</p>`;
                } finally {
                    loaderContainer.classList.add('hidden');
                    loaderContainer.classList.remove('flex');
                    coachContent.classList.remove('hidden');
                }
            }
        });
    </script>
</body>
</html>

